<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>3Dé¢¨ãƒã‚¤ã‚¯ãƒ©ç½°ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆ</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background: #0b0c10;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    overflow: hidden;
    perspective: 1000px;
  }
  h1 {
    font-size: 2em;
    margin-bottom: 20px;
    text-shadow: 0 0 10px #fff;
  }
  #roulette-container {
    position: relative;
    width: 400px;
    height: 400px;
    transform-style: preserve-3d;
  }
  .roulette-item {
    position: absolute;
    left: 50%;
    top: 50%;
    transform-origin: 0 0 150px;
    font-size: 1.5em;
    white-space: nowrap;
    text-align: center;
    transform: rotateY(0deg) translateZ(150px);
  }
  button {
    margin-top: 20px;
    padding: 15px 40px;
    font-size: 1.2em;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    background: #61dafb;
    color: #000;
  }
  button:hover { background: #21a1f1; }

  .firework {
    position: absolute;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    pointer-events: none;
    animation: fly 1s forwards;
  }
  @keyframes fly {
    0% { transform: translate(0,0) scale(1); opacity: 1; }
    100% { transform: translate(var(--x), var(--y)) scale(2); opacity: 0; }
  }
</style>
</head>
<body>
<h1>3Dé¢¨ãƒã‚¤ã‚¯ãƒ©ç½°ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆğŸ†</h1>
<div id="roulette-container"></div>
<button onclick="spinRoulette()">ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã‚’å›ã™</button>
<audio id="tickSound" src="https://freesound.org/data/previews/341/341695_3248244-lq.mp3"></audio>

<script>
const punishments = [
  "æº¶å²©ã«é£›ã³è¾¼ã‚€ğŸ”¥",
  "ãƒ€ã‚¤ãƒ¤ã‚’å…¨éƒ¨æ¨ã¦ã‚‹ğŸ’",
  "æœ¨ã®å‰£ã§ã‚¦ã‚£ã‚¶ãƒ¼ã¨æˆ¦ãˆğŸŒ²",
  "æ‘äººã«ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’æ¸¡ã—ã¦æŒ¨æ‹¶ğŸ",
  "1åˆ†é–“é€†ç«‹ã¡(ã—ã‚ƒãŒã¿)ã§ç§»å‹•ğŸ¦¶",
  "é¶10åŒ¹ã«å›²ã¾ã‚Œã¦éã”ã›ğŸ”",
  "ãƒã‚¶ãƒ¼ãƒãƒ¼ã‚¿ãƒ«ã«é£›ã³è¾¼ã‚ğŸ”¥",
  "ãƒ™ãƒƒãƒ‰ã‚’å…¨éƒ¨ç‡ƒã‚„ã›ğŸ”¥",
  "é£Ÿæ–™ã‚’å…¨éƒ¨æŠ•ã’æ¨ã¦ã‚ğŸ–",
  "æ•µãƒ¢ãƒ–10ä½“å€’ã™ã¾ã§å¸°ã‚Œãªã„ğŸ‘¾",
  "ãƒ¢ãƒ–ã«è¦‹ã¤ã‹ã‚‰ãš10ç§’éš ã‚Œã‚ğŸ‘€",
  "å…¨èº«é‰„è£…å‚™ã§æ‘ã‚’ä¸€å‘¨ğŸ›¡ï¸",
  "ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã«çŸ¢10æœ¬å½“ã¦ã‚‰ã‚Œã‚‹ğŸ¯",
  "æ°´ãƒã‚±ãƒ„ã§è‡ªåˆ†ã‚’ã‚¸ãƒ£ãƒ³ãƒ—ğŸ’¦",
  "æ‰‹æŒã¡ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã§åœ°é¢ã«æŠ•ã’ã‚ğŸ²"
];

const container = document.getElementById("roulette-container");
const tick = document.getElementById("tickSound");

// æ–‡å­—ã‚’å††å½¢ã«é…ç½®
punishments.forEach((text, i) => {
  const div = document.createElement("div");
  div.className = "roulette-item";
  div.textContent = text;
  div.style.transform = `rotateY(${(360/punishments.length)*i}deg) translateZ(150px)`;
  container.appendChild(div);
});

let rotation = 0;

function createFirework(x, y) {
  for(let i=0;i<30;i++){
    const fw = document.createElement('div');
    fw.className = 'firework';
    fw.style.left = x + 'px';
    fw.style.top = y + 'px';
    const angle = Math.random() * 2 * Math.PI;
    const distance = Math.random() * 150;
    fw.style.setProperty('--x', Math.cos(angle) * distance + 'px');
    fw.style.setProperty('--y', Math.sin(angle) * distance + 'px');
    fw.style.background = `hsl(${Math.random()*360},100%,50%)`;
    document.body.appendChild(fw);
    setTimeout(() => fw.remove(), 1000);
  }
}

function spinRoulette() {
  let spins = Math.floor(Math.random() * 10 + 30);
  let delay = 50;
  let count = 0;

  const interval = setInterval(() => {
    rotation += 15 + Math.random() * 10;
    container.style.transform = `rotateY(${rotation}deg)`;

    tick.currentTime = 0;
    tick.play().catch(()=>{});

    count++;
    delay += 5;

    if(count >= spins){
      clearInterval(interval);
      // èŠ±ç«
      const rect = container.getBoundingClientRect();
      createFirework(rect.left + rect.width/2, rect.top + rect.height/2);
    }
  }, delay);
}
</script>
</body>
</html>
